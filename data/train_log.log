venv\Scripts\python.exe : C:\Apps\AI\trading_bot\scripts\train_models.py:51: FutureWarning: In a future version of 
pandas, parsing datetimes with mixed time zones will raise an error unless `utc=True`. Please specify `utc=True` to 
opt in to the new behaviour and silence this warning. To create a `Series` with mixed offsets and `object` dtype, 
please use `apply` and `datetime.datetime.strptime`
At C:\Users\charg\AppData\Local\Temp\ps-script-0389de2c-e643-46bd-af12-e79146c51f2d.ps1:85 char:28
+ ... rading_bot; venv\Scripts\python.exe scripts/train_models.py --symbols ...
+                 ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
    + CategoryInfo          : NotSpecified: (C:\Apps\AI\trad...etime.strptime`:String) [], RemoteException
    + FullyQualifiedErrorId : NativeCommandError
 
  df["entry_ts"] = pd.to_datetime(df["entry_ts"], errors="coerce")
[32m2026-02-24 02:54:08.429[0m | [1mINFO    [0m | [36m__main__[0m:[36m_load_labelled[0m:[36m53[0m - 
[1mLoaded 852 labelled trades from C:\Apps\AI\trading_bot\data\labelled_trades.csv[0m
[32m2026-02-24 02:54:08.430[0m | [1mINFO    [0m | [36m__main__[0m:[36mmain[0m:[36m191[0m - [1m
{'=' * 60}[0m
[32m2026-02-24 02:54:08.430[0m | [1mINFO    [0m | [36m__main__[0m:[36mmain[0m:[36m192[0m - [1mTraining 
models for ES[0m
[32m2026-02-24 02:54:08.430[0m | [1mINFO    [0m | [36m__main__[0m:[36m_model_size_summary[0m:[36m71[0m - 
[1mES: 436 total labelled trades  label_method=realized_R_binary[0m
[32m2026-02-24 02:54:08.431[0m | [1mINFO    [0m | [36m__main__[0m:[36m_model_size_summary[0m:[36m79[0m - 
[1m  ES BOUNCE: 3 trades (2 pos / 1 neg)[0m
[32m2026-02-24 02:54:08.431[0m | [1mINFO    [0m | [36m__main__[0m:[36m_model_size_summary[0m:[36m79[0m - 
[1m  ES BREAK_RETEST: 287 trades (148 pos / 139 neg)[0m
[32m2026-02-24 02:54:08.431[0m | [1mINFO    [0m | [36m__main__[0m:[36m_model_size_summary[0m:[36m79[0m - 
[1m  ES SWEEP_REVERSE: 146 trades (90 pos / 56 neg)[0m
[32m2026-02-24 02:54:08.432[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m112[0m - [1mES: 
Training combined model (436 samples)...[0m
[32m2026-02-24 02:54:08.463[0m | [1mINFO    [0m | 
[36msrc.labeling.labeler[0m:[36mfrom_trade_log[0m:[36m199[0m - [1mLabeling (realized_R_binary): 240 positive / 
196 negative  imbalance=55.0%[0m
[32m2026-02-24 02:54:08.481[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mprepare_dataset[0m:[36m591[0m - 
[1mDataset (combined): 436 samples, 57 features, 55.0% positive labels[0m
[32m2026-02-24 02:54:09.471[0m | [34m[1mDEBUG   [0m | 
[36msrc.cv.purged_time_series_split[0m:[36msplit[0m:[36m155[0m - [34m[1mFold 1/5: train=71 samples (purged 
from 2022-01-06 to 2022-05-02), val=72 samples (2022-05-02 to 2022-09-26)[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:09] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:10.964[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m699[0m - [1mFold 1: 
XGB=0.500 LGBM=0.434 Ens=0.434 n_val=72[0m
[32m2026-02-24 02:54:10.965[0m | [34m[1mDEBUG   [0m | 
[36msrc.cv.purged_time_series_split[0m:[36msplit[0m:[36m155[0m - [34m[1mFold 2/5: train=144 samples (purged 
from 2022-01-06 to 2022-09-26), val=72 samples (2022-09-27 to 2023-02-15)[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:10] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:11.069[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m699[0m - [1mFold 2: 
XGB=0.570 LGBM=0.602 Ens=0.598 n_val=72[0m
[32m2026-02-24 02:54:11.070[0m | [34m[1mDEBUG   [0m | 
[36msrc.cv.purged_time_series_split[0m:[36msplit[0m:[36m155[0m - [34m[1mFold 3/5: train=214 samples (purged 
from 2022-01-06 to 2023-02-08), val=72 samples (2023-02-15 to 2024-02-06)[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:11] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:11.199[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m699[0m - [1mFold 3: 
XGB=0.452 LGBM=0.463 Ens=0.455 n_val=72[0m
[32m2026-02-24 02:54:11.199[0m | [34m[1mDEBUG   [0m | 
[36msrc.cv.purged_time_series_split[0m:[36msplit[0m:[36m155[0m - [34m[1mFold 4/5: train=288 samples (purged 
from 2022-01-06 to 2024-02-06), val=72 samples (2024-02-06 to 2024-07-15)[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:11] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:11.342[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m699[0m - [1mFold 4: 
XGB=0.483 LGBM=0.467 Ens=0.478 n_val=72[0m
[32m2026-02-24 02:54:11.342[0m | [34m[1mDEBUG   [0m | 
[36msrc.cv.purged_time_series_split[0m:[36msplit[0m:[36m155[0m - [34m[1mFold 5/5: train=360 samples (purged 
from 2022-01-06 to 2024-07-15), val=72 samples (2024-07-17 to 2024-12-23)[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:11] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:11.478[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m699[0m - [1mFold 5: 
XGB=0.555 LGBM=0.579 Ens=0.563 n_val=72[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:11] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:11.573[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m728[0m - 
[1mIsotonic calibrator fitted on 87 holdout samples[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:11] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:11.646[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m737[0m - [1mXGBoost 
model saved: C:\Apps\AI\trading_bot\data\models\active\ml_filter_ES.pkl[0m
[32m2026-02-24 02:54:11.674[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m747[0m - 
[1mLightGBM model saved: C:\Apps\AI\trading_bot\data\models\active\ml_filter_ES_COMBINED.LGBM.pkl[0m
[32m2026-02-24 02:54:11.675[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m757[0m - 
[1mCalibrator saved: C:\Apps\AI\trading_bot\data\models\active\ml_filter_ES_COMBINED.CALIBRATOR.pkl[0m
[32m2026-02-24 02:54:11.684[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m786[0m - [1mEV 
policy from training data: avg_R_win=2.094  avg_R_loss=-1.092  (n_wins=262 n_losses=174)[0m
[32m2026-02-24 02:54:11.685[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36m_save_manifest[0m:[36m149[0m - 
[1mManifest saved: C:\Apps\AI\trading_bot\data\models\active\ml_filter_ES_manifest.json[0m
[32m2026-02-24 02:54:11.686[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m120[0m - [1mES 
combined: AUC=0.510 cal=isotonic schema=sha256:f1239d11ce0f1eb9 folds=5[0m
[32m2026-02-24 02:54:11.687[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m138[0m - [1mES: 
Training BREAK_RETEST specialist (287 samples)...[0m
[32m2026-02-24 02:54:11.760[0m | [1mINFO    [0m | 
[36msrc.labeling.labeler[0m:[36mfrom_trade_log[0m:[36m199[0m - [1mLabeling (realized_R_binary): 148 positive / 
139 negative  imbalance=51.6%[0m
[32m2026-02-24 02:54:11.760[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mprepare_dataset[0m:[36m530[0m - 
[1mFiltering dataset to setup_type=BREAK_RETEST: 287 / 287 trades[0m
[32m2026-02-24 02:54:11.774[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mprepare_dataset[0m:[36m591[0m - 
[1mDataset (BREAK_RETEST): 287 samples, 57 features, 51.6% positive labels[0m
[32m2026-02-24 02:54:11.775[0m | [34m[1mDEBUG   [0m | 
[36msrc.cv.purged_time_series_split[0m:[36msplit[0m:[36m155[0m - [34m[1mFold 1/5: train=47 samples (purged 
from 2022-01-06 to 2022-05-24), val=47 samples (2022-05-31 to 2022-11-03)[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:11] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:11.843[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m699[0m - [1mFold 1: 
XGB=0.500 LGBM=0.500 Ens=0.500 n_val=47[0m
[32m2026-02-24 02:54:11.844[0m | [34m[1mDEBUG   [0m | 
[36msrc.cv.purged_time_series_split[0m:[36msplit[0m:[36m155[0m - [34m[1mFold 2/5: train=94 samples (purged 
from 2022-01-06 to 2022-11-03), val=47 samples (2022-11-07 to 2023-08-15)[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:11] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:11.923[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m699[0m - [1mFold 2: 
XGB=0.393 LGBM=0.429 Ens=0.428 n_val=47[0m
[32m2026-02-24 02:54:11.923[0m | [34m[1mDEBUG   [0m | 
[36msrc.cv.purged_time_series_split[0m:[36msplit[0m:[36m155[0m - [34m[1mFold 3/5: train=141 samples (purged 
from 2022-01-06 to 2023-08-15), val=47 samples (2023-09-11 to 2024-04-09)[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:11] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:12.012[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m699[0m - [1mFold 3: 
XGB=0.513 LGBM=0.467 Ens=0.489 n_val=47[0m
[32m2026-02-24 02:54:12.012[0m | [34m[1mDEBUG   [0m | 
[36msrc.cv.purged_time_series_split[0m:[36msplit[0m:[36m155[0m - [34m[1mFold 4/5: train=188 samples (purged 
from 2022-01-06 to 2024-04-09), val=47 samples (2024-04-16 to 2024-08-01)[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:12] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:12.125[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m699[0m - [1mFold 4: 
XGB=0.458 LGBM=0.431 Ens=0.458 n_val=47[0m
[32m2026-02-24 02:54:12.126[0m | [34m[1mDEBUG   [0m | 
[36msrc.cv.purged_time_series_split[0m:[36msplit[0m:[36m155[0m - [34m[1mFold 5/5: train=235 samples (purged 
from 2022-01-06 to 2024-08-01), val=47 samples (2024-08-07 to 2024-12-19)[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:12] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:12.319[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m699[0m - [1mFold 5: 
XGB=0.616 LGBM=0.631 Ens=0.616 n_val=47[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:12] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:12.434[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m728[0m - 
[1mIsotonic calibrator fitted on 57 holdout samples[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:12] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:12.584[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m737[0m - [1mXGBoost 
model saved: C:\Apps\AI\trading_bot\data\models\active\ml_filter_ES_BREAK_RETEST.pkl[0m
[32m2026-02-24 02:54:12.611[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m747[0m - 
[1mLightGBM model saved: C:\Apps\AI\trading_bot\data\models\active\ml_filter_ES_BREAK_RETEST.LGBM.pkl[0m
[32m2026-02-24 02:54:12.612[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m757[0m - 
[1mCalibrator saved: C:\Apps\AI\trading_bot\data\models\active\ml_filter_ES_BREAK_RETEST.CALIBRATOR.pkl[0m
[32m2026-02-24 02:54:12.623[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m786[0m - [1mEV 
policy from training data: avg_R_win=2.140  avg_R_loss=-1.100  (n_wins=170 n_losses=117)[0m
[32m2026-02-24 02:54:12.624[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36m_save_manifest[0m:[36m149[0m - 
[1mManifest saved: C:\Apps\AI\trading_bot\data\models\active\ml_filter_ES_BREAK_RETEST_manifest.json[0m
[32m2026-02-24 02:54:12.625[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m149[0m - [1mES 
BREAK_RETEST: AUC=0.494 cal=isotonic folds=5[0m
[32m2026-02-24 02:54:12.626[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m135[0m - [1mES 
REJECTION: 0 samples < 50 min ù skipping[0m
[32m2026-02-24 02:54:12.626[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m135[0m - [1mES 
BOUNCE: 3 samples < 50 min ù skipping[0m
[32m2026-02-24 02:54:12.626[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m138[0m - [1mES: 
Training SWEEP_REVERSE specialist (146 samples)...[0m
[32m2026-02-24 02:54:12.665[0m | [1mINFO    [0m | 
[36msrc.labeling.labeler[0m:[36mfrom_trade_log[0m:[36m199[0m - [1mLabeling (realized_R_binary): 90 positive / 
56 negative  imbalance=61.6%[0m
[32m2026-02-24 02:54:12.665[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mprepare_dataset[0m:[36m530[0m - 
[1mFiltering dataset to setup_type=SWEEP_REVERSE: 146 / 146 trades[0m
[32m2026-02-24 02:54:12.678[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mprepare_dataset[0m:[36m591[0m - 
[1mDataset (SWEEP_REVERSE): 146 samples, 57 features, 61.6% positive labels[0m
[32m2026-02-24 02:54:12.679[0m | [34m[1mDEBUG   [0m | 
[36msrc.cv.purged_time_series_split[0m:[36msplit[0m:[36m155[0m - [34m[1mFold 1/5: train=24 samples (purged 
from 2022-01-06 to 2022-03-29), val=24 samples (2022-04-04 to 2022-06-08)[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:12] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:12.762[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m699[0m - [1mFold 1: 
XGB=0.500 LGBM=0.500 Ens=0.500 n_val=24[0m
[32m2026-02-24 02:54:12.762[0m | [34m[1mDEBUG   [0m | 
[36msrc.cv.purged_time_series_split[0m:[36msplit[0m:[36m155[0m - [34m[1mFold 2/5: train=48 samples (purged 
from 2022-01-06 to 2022-06-08), val=24 samples (2022-06-14 to 2022-09-27)[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:12] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:12.834[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m699[0m - [1mFold 2: 
XGB=0.500 LGBM=0.500 Ens=0.500 n_val=24[0m
[32m2026-02-24 02:54:12.835[0m | [34m[1mDEBUG   [0m | 
[36msrc.cv.purged_time_series_split[0m:[36msplit[0m:[36m155[0m - [34m[1mFold 3/5: train=72 samples (purged 
from 2022-01-06 to 2022-09-27), val=24 samples (2022-10-03 to 2023-01-26)[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:12] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:12.914[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m699[0m - [1mFold 3: 
XGB=0.639 LGBM=0.555 Ens=0.555 n_val=24[0m
[32m2026-02-24 02:54:12.914[0m | [34m[1mDEBUG   [0m | 
[36msrc.cv.purged_time_series_split[0m:[36msplit[0m:[36m155[0m - [34m[1mFold 4/5: train=96 samples (purged 
from 2022-01-06 to 2023-01-26), val=24 samples (2023-01-30 to 2024-01-16)[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:12] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:12.993[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m699[0m - [1mFold 4: 
XGB=0.706 LGBM=0.697 Ens=0.739 n_val=24[0m
[32m2026-02-24 02:54:12.993[0m | [34m[1mDEBUG   [0m | 
[36msrc.cv.purged_time_series_split[0m:[36msplit[0m:[36m155[0m - [34m[1mFold 5/5: train=120 samples (purged 
from 2022-01-06 to 2024-01-16), val=24 samples (2024-02-14 to 2024-12-19)[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:13] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:13.075[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m699[0m - [1mFold 5: 
XGB=0.586 LGBM=0.586 Ens=0.571 n_val=24[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:13] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:13.131[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m728[0m - 
[1mIsotonic calibrator fitted on 29 holdout samples[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:13] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:13.177[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m737[0m - [1mXGBoost 
model saved: C:\Apps\AI\trading_bot\data\models\active\ml_filter_ES_SWEEP_REVERSE.pkl[0m
[32m2026-02-24 02:54:13.191[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m747[0m - 
[1mLightGBM model saved: C:\Apps\AI\trading_bot\data\models\active\ml_filter_ES_SWEEP_REVERSE.LGBM.pkl[0m
[32m2026-02-24 02:54:13.192[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m757[0m - 
[1mCalibrator saved: C:\Apps\AI\trading_bot\data\models\active\ml_filter_ES_SWEEP_REVERSE.CALIBRATOR.pkl[0m
[32m2026-02-24 02:54:13.201[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m786[0m - [1mEV 
policy from training data: avg_R_win=2.247  avg_R_loss=-1.102  (n_wins=84 n_losses=62)[0m
[32m2026-02-24 02:54:13.201[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36m_save_manifest[0m:[36m149[0m - 
[1mManifest saved: C:\Apps\AI\trading_bot\data\models\active\ml_filter_ES_SWEEP_REVERSE_manifest.json[0m
[32m2026-02-24 02:54:13.202[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m149[0m - [1mES 
SWEEP_REVERSE: AUC=0.577 cal=isotonic folds=5[0m
[32m2026-02-24 02:54:13.204[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m167[0m - 
[1mCopied ml_filter_ES.pkl -> C:\Apps\AI\trading_bot\data\models\pending[0m
[32m2026-02-24 02:54:13.204[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m167[0m - 
[1mCopied ml_filter_ES_BOUNCE.LGBM.pkl -> C:\Apps\AI\trading_bot\data\models\pending[0m
[32m2026-02-24 02:54:13.205[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m167[0m - 
[1mCopied ml_filter_ES_BOUNCE.pkl -> C:\Apps\AI\trading_bot\data\models\pending[0m
[32m2026-02-24 02:54:13.206[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m167[0m - 
[1mCopied ml_filter_ES_BREAK_RETEST.CALIBRATOR.pkl -> C:\Apps\AI\trading_bot\data\models\pending[0m
[32m2026-02-24 02:54:13.207[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m167[0m - 
[1mCopied ml_filter_ES_BREAK_RETEST.LGBM.pkl -> C:\Apps\AI\trading_bot\data\models\pending[0m
[32m2026-02-24 02:54:13.207[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m167[0m - 
[1mCopied ml_filter_ES_BREAK_RETEST.pkl -> C:\Apps\AI\trading_bot\data\models\pending[0m
[32m2026-02-24 02:54:13.207[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m167[0m - 
[1mCopied ml_filter_ES_BREAK_RETEST_manifest.json -> C:\Apps\AI\trading_bot\data\models\pending[0m
[32m2026-02-24 02:54:13.208[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m167[0m - 
[1mCopied ml_filter_ES_COMBINED.CALIBRATOR.pkl -> C:\Apps\AI\trading_bot\data\models\pending[0m
[32m2026-02-24 02:54:13.208[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m167[0m - 
[1mCopied ml_filter_ES_COMBINED.LGBM.pkl -> C:\Apps\AI\trading_bot\data\models\pending[0m
[32m2026-02-24 02:54:13.209[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m167[0m - 
[1mCopied ml_filter_ES_manifest.json -> C:\Apps\AI\trading_bot\data\models\pending[0m
[32m2026-02-24 02:54:13.209[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m167[0m - 
[1mCopied ml_filter_ES_SWEEP_REVERSE.CALIBRATOR.pkl -> C:\Apps\AI\trading_bot\data\models\pending[0m
[32m2026-02-24 02:54:13.210[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m167[0m - 
[1mCopied ml_filter_ES_SWEEP_REVERSE.LGBM.pkl -> C:\Apps\AI\trading_bot\data\models\pending[0m
[32m2026-02-24 02:54:13.210[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m167[0m - 
[1mCopied ml_filter_ES_SWEEP_REVERSE.pkl -> C:\Apps\AI\trading_bot\data\models\pending[0m
[32m2026-02-24 02:54:13.211[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m167[0m - 
[1mCopied ml_filter_ES_SWEEP_REVERSE_manifest.json -> C:\Apps\AI\trading_bot\data\models\pending[0m
[32m2026-02-24 02:54:13.211[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m168[0m - [1mES: 
Models in pending/ ù approve via dashboard to go live[0m
[32m2026-02-24 02:54:13.213[0m | [1mINFO    [0m | [36m__main__[0m:[36mmain[0m:[36m191[0m - [1m
{'=' * 60}[0m
[32m2026-02-24 02:54:13.213[0m | [1mINFO    [0m | [36m__main__[0m:[36mmain[0m:[36m192[0m - [1mTraining 
models for NQ[0m
[32m2026-02-24 02:54:13.214[0m | [1mINFO    [0m | [36m__main__[0m:[36m_model_size_summary[0m:[36m71[0m - 
[1mNQ: 416 total labelled trades  label_method=realized_R_binary[0m
[32m2026-02-24 02:54:13.215[0m | [1mINFO    [0m | [36m__main__[0m:[36m_model_size_summary[0m:[36m79[0m - 
[1m  NQ BOUNCE: 6 trades (4 pos / 2 neg)[0m
[32m2026-02-24 02:54:13.215[0m | [1mINFO    [0m | [36m__main__[0m:[36m_model_size_summary[0m:[36m79[0m - 
[1m  NQ BREAK_RETEST: 255 trades (158 pos / 97 neg)[0m
[32m2026-02-24 02:54:13.215[0m | [1mINFO    [0m | [36m__main__[0m:[36m_model_size_summary[0m:[36m79[0m - 
[1m  NQ SWEEP_REVERSE: 155 trades (101 pos / 54 neg)[0m
[32m2026-02-24 02:54:13.216[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m112[0m - [1mNQ: 
Training combined model (416 samples)...[0m
[32m2026-02-24 02:54:13.246[0m | [1mINFO    [0m | 
[36msrc.labeling.labeler[0m:[36mfrom_trade_log[0m:[36m199[0m - [1mLabeling (realized_R_binary): 263 positive / 
153 negative  imbalance=63.2%[0m
[32m2026-02-24 02:54:13.264[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mprepare_dataset[0m:[36m591[0m - 
[1mDataset (combined): 416 samples, 57 features, 63.2% positive labels[0m
[32m2026-02-24 02:54:13.265[0m | [34m[1mDEBUG   [0m | 
[36msrc.cv.purged_time_series_split[0m:[36msplit[0m:[36m155[0m - [34m[1mFold 1/5: train=69 samples (purged 
from 2022-01-06 to 2022-06-08), val=69 samples (2022-06-09 to 2023-01-04)[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:13] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:13.337[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m699[0m - [1mFold 1: 
XGB=0.500 LGBM=0.500 Ens=0.500 n_val=69[0m
[32m2026-02-24 02:54:13.337[0m | [34m[1mDEBUG   [0m | 
[36msrc.cv.purged_time_series_split[0m:[36msplit[0m:[36m155[0m - [34m[1mFold 2/5: train=138 samples (purged 
from 2022-01-06 to 2023-01-04), val=69 samples (2023-01-04 to 2023-10-02)[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:13] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:13.423[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m699[0m - [1mFold 2: 
XGB=0.535 LGBM=0.497 Ens=0.527 n_val=69[0m
[32m2026-02-24 02:54:13.423[0m | [34m[1mDEBUG   [0m | 
[36msrc.cv.purged_time_series_split[0m:[36msplit[0m:[36m155[0m - [34m[1mFold 3/5: train=207 samples (purged 
from 2022-01-06 to 2023-10-02), val=69 samples (2023-10-02 to 2024-04-22)[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:13] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:13.527[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m699[0m - [1mFold 3: 
XGB=0.598 LGBM=0.517 Ens=0.552 n_val=69[0m
[32m2026-02-24 02:54:13.527[0m | [34m[1mDEBUG   [0m | 
[36msrc.cv.purged_time_series_split[0m:[36msplit[0m:[36m155[0m - [34m[1mFold 4/5: train=276 samples (purged 
from 2022-01-06 to 2024-04-22), val=69 samples (2024-04-22 to 2024-09-05)[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:13] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:13.645[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m699[0m - [1mFold 4: 
XGB=0.475 LGBM=0.504 Ens=0.483 n_val=69[0m
[32m2026-02-24 02:54:13.645[0m | [34m[1mDEBUG   [0m | 
[36msrc.cv.purged_time_series_split[0m:[36msplit[0m:[36m155[0m - [34m[1mFold 5/5: train=345 samples (purged 
from 2022-01-06 to 2024-09-05), val=69 samples (2024-09-09 to 2024-12-23)[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:13] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:13.771[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m699[0m - [1mFold 5: 
XGB=0.530 LGBM=0.491 Ens=0.514 n_val=69[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:13] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:13.863[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m728[0m - 
[1mIsotonic calibrator fitted on 83 holdout samples[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:13] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:13.938[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m737[0m - [1mXGBoost 
model saved: C:\Apps\AI\trading_bot\data\models\active\ml_filter_NQ.pkl[0m
[32m2026-02-24 02:54:13.965[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m747[0m - 
[1mLightGBM model saved: C:\Apps\AI\trading_bot\data\models\active\ml_filter_NQ_COMBINED.LGBM.pkl[0m
[32m2026-02-24 02:54:13.966[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m757[0m - 
[1mCalibrator saved: C:\Apps\AI\trading_bot\data\models\active\ml_filter_NQ_COMBINED.CALIBRATOR.pkl[0m
[32m2026-02-24 02:54:13.975[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m786[0m - [1mEV 
policy from training data: avg_R_win=2.085  avg_R_loss=-1.094  (n_wins=252 n_losses=164)[0m
[32m2026-02-24 02:54:13.976[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36m_save_manifest[0m:[36m149[0m - 
[1mManifest saved: C:\Apps\AI\trading_bot\data\models\active\ml_filter_NQ_manifest.json[0m
[32m2026-02-24 02:54:13.977[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m120[0m - [1mNQ 
combined: AUC=0.515 cal=isotonic schema=sha256:f1239d11ce0f1eb9 folds=5[0m
[32m2026-02-24 02:54:13.978[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m138[0m - [1mNQ: 
Training BREAK_RETEST specialist (255 samples)...[0m
[32m2026-02-24 02:54:14.008[0m | [1mINFO    [0m | 
[36msrc.labeling.labeler[0m:[36mfrom_trade_log[0m:[36m199[0m - [1mLabeling (realized_R_binary): 158 positive / 
97 negative  imbalance=62.0%[0m
[32m2026-02-24 02:54:14.009[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mprepare_dataset[0m:[36m530[0m - 
[1mFiltering dataset to setup_type=BREAK_RETEST: 255 / 255 trades[0m
[32m2026-02-24 02:54:14.024[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mprepare_dataset[0m:[36m591[0m - 
[1mDataset (BREAK_RETEST): 255 samples, 57 features, 62.0% positive labels[0m
[32m2026-02-24 02:54:14.024[0m | [34m[1mDEBUG   [0m | 
[36msrc.cv.purged_time_series_split[0m:[36msplit[0m:[36m155[0m - [34m[1mFold 1/5: train=42 samples (purged 
from 2022-01-10 to 2022-09-06), val=42 samples (2022-09-07 to 2023-05-11)[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:14] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:14.090[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m699[0m - [1mFold 1: 
XGB=0.500 LGBM=0.500 Ens=0.500 n_val=42[0m
[32m2026-02-24 02:54:14.092[0m | [34m[1mDEBUG   [0m | 
[36msrc.cv.purged_time_series_split[0m:[36msplit[0m:[36m155[0m - [34m[1mFold 2/5: train=84 samples (purged 
from 2022-01-10 to 2023-05-11), val=42 samples (2023-05-31 to 2024-02-21)[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:14] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:14.164[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m699[0m - [1mFold 2: 
XGB=0.479 LGBM=0.516 Ens=0.500 n_val=42[0m
[32m2026-02-24 02:54:14.164[0m | [34m[1mDEBUG   [0m | 
[36msrc.cv.purged_time_series_split[0m:[36msplit[0m:[36m155[0m - [34m[1mFold 3/5: train=125 samples (purged 
from 2022-01-10 to 2024-02-20), val=42 samples (2024-02-21 to 2024-06-26)[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:14] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:14.245[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m699[0m - [1mFold 3: 
XGB=0.538 LGBM=0.634 Ens=0.600 n_val=42[0m
[32m2026-02-24 02:54:14.245[0m | [34m[1mDEBUG   [0m | 
[36msrc.cv.purged_time_series_split[0m:[36msplit[0m:[36m155[0m - [34m[1mFold 4/5: train=168 samples (purged 
from 2022-01-10 to 2024-06-26), val=42 samples (2024-06-26 to 2024-09-23)[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:14] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:14.341[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m699[0m - [1mFold 4: 
XGB=0.607 LGBM=0.615 Ens=0.623 n_val=42[0m
[32m2026-02-24 02:54:14.341[0m | [34m[1mDEBUG   [0m | 
[36msrc.cv.purged_time_series_split[0m:[36msplit[0m:[36m155[0m - [34m[1mFold 5/5: train=210 samples (purged 
from 2022-01-10 to 2024-09-23), val=42 samples (2024-09-23 to 2024-12-17)[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:14] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:14.446[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m699[0m - [1mFold 5: 
XGB=0.589 LGBM=0.579 Ens=0.579 n_val=42[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:14] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:14.523[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m728[0m - 
[1mIsotonic calibrator fitted on 51 holdout samples[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:14] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:14.585[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m737[0m - [1mXGBoost 
model saved: C:\Apps\AI\trading_bot\data\models\active\ml_filter_NQ_BREAK_RETEST.pkl[0m
[32m2026-02-24 02:54:14.604[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m747[0m - 
[1mLightGBM model saved: C:\Apps\AI\trading_bot\data\models\active\ml_filter_NQ_BREAK_RETEST.LGBM.pkl[0m
[32m2026-02-24 02:54:14.606[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m757[0m - 
[1mCalibrator saved: C:\Apps\AI\trading_bot\data\models\active\ml_filter_NQ_BREAK_RETEST.CALIBRATOR.pkl[0m
[32m2026-02-24 02:54:14.616[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m786[0m - [1mEV 
policy from training data: avg_R_win=2.200  avg_R_loss=-1.098  (n_wins=149 n_losses=106)[0m
[32m2026-02-24 02:54:14.616[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36m_save_manifest[0m:[36m149[0m - 
[1mManifest saved: C:\Apps\AI\trading_bot\data\models\active\ml_filter_NQ_BREAK_RETEST_manifest.json[0m
[32m2026-02-24 02:54:14.618[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m149[0m - [1mNQ 
BREAK_RETEST: AUC=0.556 cal=isotonic folds=5[0m
[32m2026-02-24 02:54:14.619[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m135[0m - [1mNQ 
REJECTION: 0 samples < 50 min ù skipping[0m
[32m2026-02-24 02:54:14.619[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m135[0m - [1mNQ 
BOUNCE: 6 samples < 50 min ù skipping[0m
[32m2026-02-24 02:54:14.619[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m138[0m - [1mNQ: 
Training SWEEP_REVERSE specialist (155 samples)...[0m
[32m2026-02-24 02:54:14.655[0m | [1mINFO    [0m | 
[36msrc.labeling.labeler[0m:[36mfrom_trade_log[0m:[36m199[0m - [1mLabeling (realized_R_binary): 101 positive / 
54 negative  imbalance=65.2%[0m
[32m2026-02-24 02:54:14.655[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mprepare_dataset[0m:[36m530[0m - 
[1mFiltering dataset to setup_type=SWEEP_REVERSE: 155 / 155 trades[0m
[32m2026-02-24 02:54:14.664[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mprepare_dataset[0m:[36m591[0m - 
[1mDataset (SWEEP_REVERSE): 155 samples, 57 features, 65.2% positive labels[0m
[32m2026-02-24 02:54:14.665[0m | [34m[1mDEBUG   [0m | 
[36msrc.cv.purged_time_series_split[0m:[36msplit[0m:[36m155[0m - [34m[1mFold 1/5: train=25 samples (purged 
from 2022-01-06 to 2022-04-28), val=25 samples (2022-05-02 to 2022-07-14)[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:14] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:14.729[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m699[0m - [1mFold 1: 
XGB=0.500 LGBM=0.500 Ens=0.500 n_val=25[0m
[32m2026-02-24 02:54:14.730[0m | [34m[1mDEBUG   [0m | 
[36msrc.cv.purged_time_series_split[0m:[36msplit[0m:[36m155[0m - [34m[1mFold 2/5: train=50 samples (purged 
from 2022-01-06 to 2022-07-14), val=25 samples (2022-07-14 to 2022-11-08)[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:14] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:14.794[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m699[0m - [1mFold 2: 
XGB=0.500 LGBM=0.500 Ens=0.500 n_val=25[0m
[32m2026-02-24 02:54:14.795[0m | [34m[1mDEBUG   [0m | 
[36msrc.cv.purged_time_series_split[0m:[36msplit[0m:[36m155[0m - [34m[1mFold 3/5: train=75 samples (purged 
from 2022-01-06 to 2022-11-08), val=25 samples (2022-11-15 to 2023-08-08)[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:14] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:14.865[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m699[0m - [1mFold 3: 
XGB=0.537 LGBM=0.379 Ens=0.397 n_val=25[0m
[32m2026-02-24 02:54:14.865[0m | [34m[1mDEBUG   [0m | 
[36msrc.cv.purged_time_series_split[0m:[36msplit[0m:[36m155[0m - [34m[1mFold 4/5: train=100 samples (purged 
from 2022-01-06 to 2023-08-08), val=25 samples (2023-08-15 to 2024-06-06)[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:14] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:14.940[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m699[0m - [1mFold 4: 
XGB=0.444 LGBM=0.340 Ens=0.396 n_val=25[0m
[32m2026-02-24 02:54:14.940[0m | [34m[1mDEBUG   [0m | 
[36msrc.cv.purged_time_series_split[0m:[36msplit[0m:[36m155[0m - [34m[1mFold 5/5: train=125 samples (purged 
from 2022-01-06 to 2024-06-06), val=25 samples (2024-06-06 to 2024-11-18)[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:14] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:15.024[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m699[0m - [1mFold 5: 
XGB=0.382 LGBM=0.444 Ens=0.438 n_val=25[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:15] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:15.088[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m728[0m - 
[1mIsotonic calibrator fitted on 31 holdout samples[0m
C:\Apps\AI\trading_bot\venv\Lib\site-packages\xgboost\training.py:200: UserWarning: [02:54:15] WARNING: 
C:\actions-runner\_work\xgboost\xgboost\src\learner.cc:782: 
Parameters: { "use_label_encoder" } are not used.

  bst.update(dtrain, iteration=i, fobj=obj)
[32m2026-02-24 02:54:15.139[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m737[0m - [1mXGBoost 
model saved: C:\Apps\AI\trading_bot\data\models\active\ml_filter_NQ_SWEEP_REVERSE.pkl[0m
[32m2026-02-24 02:54:15.154[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m747[0m - 
[1mLightGBM model saved: C:\Apps\AI\trading_bot\data\models\active\ml_filter_NQ_SWEEP_REVERSE.LGBM.pkl[0m
[32m2026-02-24 02:54:15.154[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m757[0m - 
[1mCalibrator saved: C:\Apps\AI\trading_bot\data\models\active\ml_filter_NQ_SWEEP_REVERSE.CALIBRATOR.pkl[0m
[32m2026-02-24 02:54:15.163[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36mtrain[0m:[36m786[0m - [1mEV 
policy from training data: avg_R_win=2.177  avg_R_loss=-1.099  (n_wins=90 n_losses=65)[0m
[32m2026-02-24 02:54:15.166[0m | [1mINFO    [0m | [36msrc.ml_filter[0m:[36m_save_manifest[0m:[36m149[0m - 
[1mManifest saved: C:\Apps\AI\trading_bot\data\models\active\ml_filter_NQ_SWEEP_REVERSE_manifest.json[0m
[32m2026-02-24 02:54:15.167[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m149[0m - [1mNQ 
SWEEP_REVERSE: AUC=0.453 cal=isotonic folds=5[0m
[32m2026-02-24 02:54:15.168[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m167[0m - 
[1mCopied ml_filter_NQ.pkl -> C:\Apps\AI\trading_bot\data\models\pending[0m
[32m2026-02-24 02:54:15.168[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m167[0m - 
[1mCopied ml_filter_NQ_BOUNCE.LGBM.pkl -> C:\Apps\AI\trading_bot\data\models\pending[0m
[32m2026-02-24 02:54:15.169[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m167[0m - 
[1mCopied ml_filter_NQ_BOUNCE.pkl -> C:\Apps\AI\trading_bot\data\models\pending[0m
[32m2026-02-24 02:54:15.169[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m167[0m - 
[1mCopied ml_filter_NQ_BREAK_RETEST.CALIBRATOR.pkl -> C:\Apps\AI\trading_bot\data\models\pending[0m
[32m2026-02-24 02:54:15.170[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m167[0m - 
[1mCopied ml_filter_NQ_BREAK_RETEST.LGBM.pkl -> C:\Apps\AI\trading_bot\data\models\pending[0m
[32m2026-02-24 02:54:15.170[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m167[0m - 
[1mCopied ml_filter_NQ_BREAK_RETEST.pkl -> C:\Apps\AI\trading_bot\data\models\pending[0m
[32m2026-02-24 02:54:15.171[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m167[0m - 
[1mCopied ml_filter_NQ_BREAK_RETEST_manifest.json -> C:\Apps\AI\trading_bot\data\models\pending[0m
[32m2026-02-24 02:54:15.171[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m167[0m - 
[1mCopied ml_filter_NQ_COMBINED.CALIBRATOR.pkl -> C:\Apps\AI\trading_bot\data\models\pending[0m
[32m2026-02-24 02:54:15.172[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m167[0m - 
[1mCopied ml_filter_NQ_COMBINED.LGBM.pkl -> C:\Apps\AI\trading_bot\data\models\pending[0m
[32m2026-02-24 02:54:15.172[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m167[0m - 
[1mCopied ml_filter_NQ_manifest.json -> C:\Apps\AI\trading_bot\data\models\pending[0m
[32m2026-02-24 02:54:15.173[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m167[0m - 
[1mCopied ml_filter_NQ_SWEEP_REVERSE.CALIBRATOR.pkl -> C:\Apps\AI\trading_bot\data\models\pending[0m
[32m2026-02-24 02:54:15.173[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m167[0m - 
[1mCopied ml_filter_NQ_SWEEP_REVERSE.LGBM.pkl -> C:\Apps\AI\trading_bot\data\models\pending[0m
[32m2026-02-24 02:54:15.174[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m167[0m - 
[1mCopied ml_filter_NQ_SWEEP_REVERSE.pkl -> C:\Apps\AI\trading_bot\data\models\pending[0m
[32m2026-02-24 02:54:15.174[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m167[0m - 
[1mCopied ml_filter_NQ_SWEEP_REVERSE_manifest.json -> C:\Apps\AI\trading_bot\data\models\pending[0m
[32m2026-02-24 02:54:15.174[0m | [1mINFO    [0m | [36m__main__[0m:[36mtrain_symbol[0m:[36m168[0m - [1mNQ: 
Models in pending/ ù approve via dashboard to go live[0m
[32m2026-02-24 02:54:15.176[0m | [1mINFO    [0m | [36m__main__[0m:[36mmain[0m:[36m226[0m - [1mRun report: 
C:\Apps\AI\trading_bot\data\train_models_report.json[0m

============================================================
  TRAINING SUMMARY
============================================================
  ES combined                  AUC=0.510 cal=isotonic [marginal]
  ES BREAK_RETEST              AUC=0.494 cal=isotonic [marginal]
  ES SWEEP_REVERSE             AUC=0.577 cal=isotonic [marginal]
  NQ combined                  AUC=0.515 cal=isotonic [marginal]
  NQ BREAK_RETEST              AUC=0.556 cal=isotonic [marginal]
  NQ SWEEP_REVERSE             AUC=0.453 cal=isotonic [marginal]
============================================================

  Models saved to data/models/pending/
  Approve via the dashboard 'Test & Train AI' tab to go live.
